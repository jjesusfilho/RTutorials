---
title: "Introduction to R: Data Transformation"
author: "Erin Grand"
date: "3/15/2017"
output: revealjs::revealjs_presentation
---

# Introduction to R: Data Manipulation
Focusing on packages found in tidyverse


## Packages
Download tidyverse:
Imports: dplyr, ggplot2, lubricate, readr, readxl, stringr, tibble, tidyr, magrittr

```{r, message=FALSE, warning=FALSE}
library(readxl)
library(tidyverse)
```


## Tidy Data
<div class="centerd">
![](https://github.com/eringrand/RTutorials/blob/master/Lesson1/images/tidy-1.jpg?raw=true)
</class>

1. Each variable forms a column
1. Each observation forms a row
1. Each type of observational unit forms a table

## Learn to think in Code
How to do you currently think about a task in excel or tableau? Learn how to translate and use that process in code. 

1. What is your process for creating a pivot table?
1. What is your process for creating a new column?
1. How do you sort data?


# DPLYR

##  Five Most Important DPLYR Functions
1.	`Filter`
2.	`Select`
3.	`Arrange`
4.	`Mutate`
5.	`Group_by`, `Summarize` (`Summarise`)

All these function work similarly, the first argument is a data frame, the next describe what you want to do with the data frame, and the result is a new data frame. 

## Filter
![](https://github.com/eringrand/RTutorials/blob/gh-pages/Lesson1/images/filters.png?raw=true)
---

Task: filter the IA data to only include NY 8th grade students Math tests. This way you're only looking at Regents test takers.

---
## Arrange
- Arrange works by you providing the column names you'd like to sort by. The order you provide them will determine the ties in the preceding columns.
- You can use `desc()` to order in decending order
- Missing values (`NA`s) are always sorted at the end

Task: Sort the filtered IAs to find the 8th grade students with the highest Math scores.

## Select
It’s not uncommon to get datasets with many variables. In this case, the first challenge is often narrowing in on the variables you’re actually interested in. `select()` allows you to rapidly zoom in on just those.

Task: The IA data has SO MANY columns which aren't really useful if we only want to at the passing rate of these students. Find the ones we need and select only them.

## Select Continued
There are a number of different way to select columns.
You can find out more about each of these on the Tidy Data cheatsheet, or by looking at `?select`
- `column1:column3`: selects all the column between column1 and column3
- `starts_with("abc")`: matches column names that begin with "abc"
- `ends_with("abc")`: matches column names that end with "abc"
- `contains("ID")`: will select only columns that contain ID (not case-sensitive)
- `num_range("x", 1:3)`: selects columns titled `x1`, `x2`, `x3`
- `matches()`: tselects variavles that match a regular expression, don't use this unless you know regular expressions
- `-X3` will select all column expect `X3`
- `one_of()` takes a vector of characters and will select all the columns that have the same name as you provide



## Mutate
Task:

## Group by and Summarize


# Joins

## Which Join is which?
<!-- ![]() -->

## Left-Join vs Inner-Join vs Full-Join


## Advantages of Anti-Join


## What about Right-Join?
- There aren't many use cases for right joining data, HOWEVER if you are piping a set of set which creates your map and you want to join it back to the orginal data, to continue the pipe you would use a right join.


